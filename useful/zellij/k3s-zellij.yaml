---
# this template is for the root Pane on each tab. It provides the 
# header tab-bar and footer status-bar
template:
  direction: Horizontal
  parts:
    - direction: Vertical  # part 1
      borderless: true
      split_size:
        Fixed: 1
      run:
        plugin:
          location: "zellij:tab-bar"
    - direction: Vertical # part 2
      body: true
    - direction: Vertical # part 3
      borderless: true
      split_size:
        Fixed: 2
      run:
        plugin:
          location: "zellij:status-bar"
# this does not work - the docs don't specify at which level to place session
session:
  name: "k8s-session"
  attach: true
tabs:
  - name: "K8s Monitor"
    direction: Vertical
    parts:
      - direction: Horizontal
        parts:
          - run:
              command: {cmd: ssh, args: ["-t", "pi1", "watch -t \"vcgencmd measure_temp\""]}
            split_size:
              Fixed: 2
            borderless: true
          - run:
              command: {cmd: ssh, args: ["-t", "pi1", "htop && bash"]}
            pane_name: pi1
            split_size:
              Percent: 30            
          - run:
              command: {cmd: ssh, args: ["-t", "pi1", "journalctl -fu k3s"]}
      - direction: Horizontal
        borderless: false
        parts:
          - run:
              command: {cmd: ssh, args: ["-t", "pi2", "watch -t \"vcgencmd measure_temp\""]}
            split_size:
              Fixed: 2
            borderless: true
          - run:
              command: {cmd: ssh, args: ["-t", "pi2", "htop && bash"]}
            pane_name: pi2
            split_size:
              Percent: 30            
          - run:
              command: {cmd: ssh, args: ["-t", "pi2", "journalctl -fu k3s"]}
      - direction: Horizontal
        borderless: false
        parts:
          - run:
              command: {cmd: ssh, args: ["-t", "pi3", "watch -t \"vcgencmd measure_temp\""]}
            split_size:
              Fixed: 2
            borderless: true
          - run:
              command: {cmd: ssh, args: ["-t", "pi3", "htop && bash"]}
            pane_name: pi3
            split_size:
              Percent: 30            
          - run:
              command: {cmd: ssh, args: ["-t", "pi3", "journalctl -fu k3s"]}
      - direction: Horizontal
        borderless: false
        parts:
          - run:
              command: {cmd: ssh, args: ["-t", "gknuc", "watch -t \"sensors | grep Package\""]}
            split_size:
              Fixed: 2
            borderless: true
          - run:
              command: {cmd: ssh, args: ["-t", "gknuc", "htop && bash"]}
            pane_name: gknuc
            split_size:
              Percent: 30            
          - run:
              command: {cmd: ssh, args: ["-t", "gknuc", "journalctl -fu k3s"]}
              